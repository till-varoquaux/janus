macro print(n) ${document.writeln($n)}$;
cps_macro sleep(n) ${setTimeout($cont,$n)}$;

var fib=cps(res){
  var i = 0;
  var j = 1;
  var n = 0;
  while (n < res) {
    print(i);
    sleep(100);
    var t = i;
    i := 0;
    i := j;
    j := j+t;
    n := n+1;
  };
};

fib(10);
print(5)
